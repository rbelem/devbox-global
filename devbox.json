{
  "packages": [
    "fzf@latest",
    "starship@latest",
    "ripgrep@latest",
    "gh@latest",
    "zoxide@latest",
    "tmux@latest",
    "go@latest",
    "cargo@latest",
    "wl-clipboard@latest",
    "statix@latest",
    "path:neovim-options",
    "git-credential-oauth@latest",
    "git-credential-manager@latest",
    "path:git-options",
    "delta@latest",
    "luarocks@latest",
    "ghq@latest",
    "tree@latest",
    "difftastic@latest",
    "tig@latest",
    "tree-sitter@latest",
    "chezmoi@latest",
    "bitwarden-cli@latest",
    "atuin@latest"
  ],
  "env": {
    "EDITOR": "vi",
    "VISUAL": "vi"
  },
  "shell": {
    "init_hook": [
      "[ ! -t 0 ] || [ -z \"$PS1\" ] && return",
      "command -v starship >/dev/null 2>&1 && eval \"$(starship init bash --print-full-init)\"",
      "export DEVBOX_GLOBAL_PREFIX=$(devbox global path)/.devbox/virtenv/.wrappers",
      "command -v fzf >/dev/null 2>&1 \\",
      "  && . $DEVBOX_GLOBAL_PREFIX/share/fzf/completion.bash \\",
      "  && . $DEVBOX_GLOBAL_PREFIX/share/fzf/key-bindings.bash",
      "command -v zoxide >/dev/null 2>&1 && eval \"$(zoxide init bash)\" && alias cd='z'",
      "export SUDO_EDITOR=$(devbox global path)/.devbox/virtenv/.wrappers/bin/nvim",
      "set -o vi",
      "[ -f $HOME/.bash-preexec.sh ] && source $HOME/.bash-preexec.sh",
      "command -v atuin >/dev/null 2>&1 && eval \"$(atuin init bash)\""
    ],
    "scripts": {
      "config-edit": [
        "$EDITOR $(devbox global path)/devbox.json"
      ],
      "config-pull": [
        "devbox global pull https://github.com/rbelem/devbox-global.git"
      ],
      "config-push": [
        "devbox global push https://github.com/rbelem/devbox-global.git"
      ],
      "install-nf": [
        "mkdir -p $HOME/.fonts/HackNF",
        "curl -LJ -s https://github.com/ryanoasis/nerd-fonts/releases/download/v3.0.1/Hack.tar.xz | tar -Jx -C $HOME/.fonts/HackNF",
        "mkdir -p $HOME/.fonts/NotoNF",
        "curl -LJ -s https://github.com/ryanoasis/nerd-fonts/releases/download/v3.0.1/Noto.tar.xz | tar -Jx -C $HOME/.fonts/NotoNF",
        "mkdir -p $HOME/.fonts/FiraCodeNF",
        "curl -LJ -s https://github.com/ryanoasis/nerd-fonts/releases/download/v3.0.1/FiraCode.tar.xz | tar -Jx -C $HOME/.fonts/FiraCodeNF",
        "fc-cache -fv"
      ],
      "install-nvchad": [
        "git clone https://github.com/rbelem/NvSigma $HOME/.config/nvim",
        "git clone https://github.com/rbelem/nvchad-custom $HOME/.config/nvim/lua/custom"
      ],
      "setup-atuin": [
        "curl -sL https://raw.githubusercontent.com/rcaloras/bash-preexec/master/bash-preexec.sh -o $HOME/.bash-preexec.sh"
      ],
      "setup-devbox": [
        "mkdir -p $HOME/.bashrc.d",
        "cat <<EOF > $HOME/.bashrc.d/90-devbox.sh",
        "[ ! -t 0 ] || [ -z \"\\$PS1\" ] && return",
        "source <(devbox global shellenv --init-hook)",
        "source <(devbox completion bash)",
        "EOF"
      ],
      "setup-devbox-bashrc": [
        "cat <<EOF >> $HOME/.bashrc",
        "# User specific aliases and functions",
        "if [ -d ~/.bashrc.d ]; then",
        "  for rc in ~/.bashrc.d/*; do",
        "    if [ -f \"\\$rc\" ]; then",
        "      . \"\\$rc\"",
        "    fi",
        "  done",
        "fi",
        "",
        "unset rc",
        "EOF"
      ],
      "setup-git": [
        "git config --global --remove-section alias",
        "git config --global --remove-section core",
        "git config --global --remove-section credential",
        "git config --global --remove-section credential.https://dev.azure.com",
        "git config --global --remove-section delta",
        "git config --global --remove-section diff",
        "git config --global --remove-section http",
        "git config --global --remove-section http.https://*.*.local",
        "git config --global --remove-section include",
        "git config --global --remove-section init",
        "git config --global --remove-section interactive",
        "git config --global --remove-section merge",
        "git config --global alias.br branch",
        "git config --global alias.ci commit",
        "git config --global alias.co checkout",
        "git config --global branch.autosetupmerge always",
        "git config --global branch.autosetuprebase always",
        "git config --global commit.verbose true",
        "git config --global init.defaultBranch main",
        "git config --global --bool http.'https://*.*.local'.sslverify false",
        "git config --global --add credential.helper cache",
        "git config --global --add credential.helper libsecret",
        "git config --global --add credential.helper oauth",
        "git config --global credential.cacheOptions '--timeout=7200'",
        "git config --global credential.credentialStore secretservice",
        "git config --global credential.https://dev.azure.com.helper manager",
        "git config --global credential.https://dev.azure.com.useHttpPath true",
        "git config --global core.pager delta",
        "git config --global interactive.diffFilter 'delta --color-only'",
        "mkdir -p /home/rodrigo/.local/share/delta",
        "curl https://github.com/dandavison/delta/raw/master/themes.gitconfig -sL > $HOME/.local/share/delta/themes.gitconfig",
        "git config --global include.path $HOME/.local/share/delta/themes.gitconfig",
        "git config --global diff.colorMoved default",
        "git config --global diff.guitool meld",
        "git config --global diff.tool difftastic",
        "git config --global difftool.difftastic.cmd 'difft \"$LOCAL\" \"$REMOTE\"'",
        "git config --global delta.features calochortus-lyallii",
        "git config --global delta.line-numbers-minus-style 'bold \"#b10036\"'",
        "git config --global delta.line-numbers-plus-style 'bold \"#00b136\"'",
        "git config --global delta.max-line-length 1024",
        "git config --global delta.navigate true",
        "git config --global delta.pager 'less -RS'",
        "git config --global delta.side-by-side true",
        "git config --global delta.tabs 2",
        "git config --global delta.true-color always",
        "git config --global ghq.root $HOME/Workspace",
        "git config --global merge.conflictstyle diff3",
        "git config --global merge.guitool meld",
        "git config --global merge.tool vimdiff",
        "git config --global mergetool.vimdiff.cmd \"nvim -d $LOCAL $REMOTE $MERGED -c '$wincmd w' -c 'wincmd J'\""
      ],
      "setup-tmux": [
        "[ -d $HOME/.tmux ] || git clone https://github.com/gpakosz/.tmux $HOME/.tmux",
        "ln -sf $HOME/.tmux/.tmux.conf $HOME/.tmux.conf",
        "ln -sf $(devbox global path)/dotfiles/.tmux.conf.local $HOME/.tmux.conf.local",
        "mkdir -p $HOME/bin",
        "curl https://github.com/27medkamal/tmux-session-wizard/raw/master/session-wizard.sh -sL > $HOME/bin/t && chmod u+x $HOME/bin/t"
      ]
    }
  }
}
